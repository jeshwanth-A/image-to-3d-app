<!DOCTYPE html>
<html>
<head>
    <title>3D Model Viewer</title>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; }
        h1, h2 { color: #333; }
        .viewer-container { 
            width: 100%;
            height: 500px; 
            background-color: #f0f0f0;
            margin: 20px 0;
        }
        model-viewer {
            width: 100%;
            height: 100%;
            background-color: #eee;
        }
        .back-link { margin: 20px 0; }
        .back-link a { 
            padding: 10px; 
            background-color: #4CAF50; 
            color: white; 
            text-decoration: none; 
            border-radius: 4px; 
        }
        .loading {
            text-align: center;
            padding: 50px;
            font-size: 20px;
            color: #666;
        }
    </style>
</head>
<body>
    <h1>3D Model Viewer</h1>
    
    <div class="back-link">
        <a href="{{ url_for('upload.upload_form') }}">Back to Uploads</a>
    </div>
    
    <h2>{{ model_name }}</h2>
    
    <div class="viewer-container">
        <model-viewer 
            src="{{ model_url }}" 
            camera-controls 
            auto-rotate 
            shadow-intensity="1" 
            ar 
            alt="3D model">
            <div class="loading" slot="poster">Loading 3D model...</div>
        </model-viewer>
    </div>
    
    <div>
        <p>Created: {{ created_at }}</p>
        <p>Original file: {{ original_filename }}</p>
    </div>
</body>
</html>
